# ğŸ› Android è°ƒè¯•æŒ‡å—

## Android Studio Logcat é…ç½®

### 1. åŸºæœ¬è¿‡æ»¤è®¾ç½®

```
æ ‡ç­¾è¿‡æ»¤: flutter
åŒ…åè¿‡æ»¤: com.example.running_tracker
```

### 2. é«˜çº§è¿‡æ»¤å™¨

åœ¨ Logcat çª—å£çš„æœç´¢æ¡†ä¸­ä½¿ç”¨è¿™äº›è¿‡æ»¤å™¨ï¼š

#### æŸ¥çœ‹æ‰€æœ‰ Flutter æ—¥å¿—

```
tag:flutter
```

#### æŸ¥çœ‹é”™è¯¯å’Œè­¦å‘Š

```
tag:flutter level:warn
```

#### æŸ¥çœ‹ç‰¹å®šåŠŸèƒ½çš„æ—¥å¿—

```
tag:flutter ç™»å½•
```

#### æŸ¥çœ‹å †æ ˆè¿½è¸ª

```
tag:flutter Stack
```

### 3. è‡ªå®šä¹‰è¿‡æ»¤å™¨åˆ›å»ºæ­¥éª¤

1. **æ‰“å¼€ Logcat çª—å£** (View â†’ Tool Windows â†’ Logcat)
2. **ç‚¹å‡»è¿‡æ»¤å™¨ä¸‹æ‹‰èœå•** (é»˜è®¤æ˜¾ç¤º "No Filters")
3. **é€‰æ‹© "Create New Filter"**
4. **é…ç½®è¿‡æ»¤å™¨**:
   - Filter Name: `Flutter Debug`
   - Log Tag: `flutter`
   - Package Name: `com.example.running_tracker`
   - Log Level: `Debug`

### 4. å…³é”®æ—¥å¿—æœç´¢è¯

#### é”™è¯¯ç›¸å…³

- `âŒ` - é”™è¯¯æ ‡è®°
- `Exception` - å¼‚å¸¸ä¿¡æ¯
- `Error` - é”™è¯¯ä¿¡æ¯
- `Failed` - å¤±è´¥ä¿¡æ¯

#### ç½‘ç»œè¯·æ±‚

- `--- ç™»å½•è¯·æ±‚` - ç™»å½•è¯·æ±‚æ—¥å¿—
- `--- ç™»å½•å“åº”` - ç™»å½•å“åº”æ—¥å¿—
- `ğŸŒ åˆ›å»ºHTTPå®¢æˆ·ç«¯` - HTTP å®¢æˆ·ç«¯åˆ›å»º

#### ç”¨æˆ·æ•°æ®å¤„ç†

- `ğŸ” User.fromJson` - ç”¨æˆ·æ•°æ®è§£æ
- `ğŸ” æ£€æŸ¥å“åº”æ•°æ®ç»“æ„` - å“åº”æ•°æ®æ£€æŸ¥

## é”™è¯¯å®šä½æŠ€å·§

### 1. å †æ ˆè¿½è¸ªé˜…è¯»

å½“çœ‹åˆ°é”™è¯¯æ—¶ï¼ŒæŸ¥æ‰¾ç±»ä¼¼è¿™æ ·çš„å †æ ˆä¿¡æ¯ï¼š

```
#0      User.fromJson (package:running_tracker/data/models/user.dart:25:7)
#1      AuthService.login (package:running_tracker/core/services/auth_service.dart:156:23)
#2      _AuthScreenState._handleLogin (package:running_tracker/presentation/screens/auth_screen.dart:89:12)
```

è¿™è¡¨ç¤ºé”™è¯¯å‘ç”Ÿåœ¨ï¼š

- æ–‡ä»¶: `user.dart`
- è¡Œæ•°: `25`
- æ–¹æ³•: `User.fromJson`

### 2. é”™è¯¯åˆ†ç±»

#### Type 'Null' is not a subtype of type 'String'

- **ä½ç½®**: é€šå¸¸åœ¨æ•°æ®æ¨¡å‹çš„ fromJson æ–¹æ³•ä¸­
- **åŸå› **: æœåŠ¡å™¨è¿”å›çš„å­—æ®µä¸º nullï¼Œä½†æ¨¡å‹æœŸæœ› String
- **è§£å†³**: æ£€æŸ¥æœåŠ¡å™¨è¿”å›æ•°æ®å’Œ null å¤„ç†

#### JSON è§£æé”™è¯¯

- **ä½ç½®**: HTTP å“åº”å¤„ç†
- **åŸå› **: æœåŠ¡å™¨è¿”å›çš„ä¸æ˜¯æœ‰æ•ˆ JSON
- **è§£å†³**: æ£€æŸ¥å“åº”ä½“å†…å®¹

#### ç½‘ç»œè¿æ¥é”™è¯¯

- **ä½ç½®**: HTTP è¯·æ±‚å‘é€
- **åŸå› **: ç½‘ç»œé…ç½®æˆ–æœåŠ¡å™¨é—®é¢˜
- **è§£å†³**: æ£€æŸ¥ URL å’Œç½‘ç»œè®¾ç½®

## å®ç”¨ Logcat å‘½ä»¤

### åœ¨ç»ˆç«¯ä¸­æŸ¥çœ‹æ—¥å¿— (å¯é€‰)

```bash
# æŸ¥çœ‹Flutteræ—¥å¿—
adb logcat -s flutter

# æŸ¥çœ‹ç‰¹å®šåŒ…çš„æ—¥å¿—
adb logcat | grep com.example.running_tracker

# æ¸…é™¤æ—¥å¿—åé‡æ–°å¼€å§‹
adb logcat -c && adb logcat -s flutter
```

## å®Œæ•´è°ƒè¯•æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šé‡ç°é”™è¯¯

1. æ¸…é™¤ Logcat (ç‚¹å‡» ğŸ—‘ï¸ æŒ‰é’®)
2. æ‰§è¡Œå¼•å‘é”™è¯¯çš„æ“ä½œ (å¦‚ç™»å½•)
3. ç«‹å³æŸ¥çœ‹ Logcat è¾“å‡º

### ç¬¬äºŒæ­¥ï¼šå®šä½é”™è¯¯

1. æœç´¢ `âŒ` æˆ– `Exception`
2. æŸ¥çœ‹å®Œæ•´çš„å †æ ˆè¿½è¸ª
3. æ‰¾åˆ°ç¬¬ä¸€ä¸ªé¡¹ç›®ä»£ç æ–‡ä»¶å’Œè¡Œæ•°

### ç¬¬ä¸‰æ­¥ï¼šåˆ†æé”™è¯¯

1. æŸ¥çœ‹é”™è¯¯å‰çš„ç›¸å…³æ—¥å¿—
2. æ£€æŸ¥ç½‘ç»œè¯·æ±‚å’Œå“åº”
3. éªŒè¯æ•°æ®å¤„ç†é€»è¾‘

### ç¬¬å››æ­¥ï¼šéªŒè¯ä¿®å¤

1. é‡æ–°è¿è¡Œåº”ç”¨
2. é‡å¤é”™è¯¯æ“ä½œ
3. ç¡®è®¤æ—¥å¿—ä¸­æ˜¾ç¤ºæˆåŠŸä¿¡æ¯

## å¸¸è§é”™è¯¯æ¨¡å¼

### 1. ç™»å½•é”™è¯¯æµç¨‹

```
=== ç™»å½•è¯·æ±‚å¼€å§‹ [ID: xxxxx] ===
--- ç™»å½•è¯·æ±‚ [ID: xxxxx] ---
--- ç™»å½•å“åº” [ID: xxxxx] ---
âœ… JSONè§£ææˆåŠŸ [ID: xxxxx]
ğŸ” æ£€æŸ¥å“åº”æ•°æ®ç»“æ„ [ID: xxxxx]
ğŸ” User.fromJson - è¾“å…¥æ•°æ®: {...}
âŒ User.fromJson å¤±è´¥        â† é”™è¯¯å‘ç”Ÿåœ¨è¿™é‡Œ
```

### 2. æŸ¥çœ‹å…·ä½“é”™è¯¯

æ‰¾åˆ°é”™è¯¯åï¼ŒæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š

```
âŒ User.fromJson å¤±è´¥
é”™è¯¯: ArgumentError: User idä¸èƒ½ä¸ºnull
è¾“å…¥æ•°æ®: {email: test@test.com, username: test, ...}
å †æ ˆè¿½è¸ª:
#0      User.fromJson (package:running_tracker/data/models/user.dart:25:7)
...
```

è¿™æ ·æ‚¨å°±èƒ½å‡†ç¡®çŸ¥é“ï¼š

- **é”™è¯¯ç±»å‹**: User id ä¸èƒ½ä¸º null
- **é”™è¯¯ä½ç½®**: user.dart ç¬¬ 25 è¡Œ
- **è¾“å…¥æ•°æ®**: å…·ä½“çš„ JSON æ•°æ®
